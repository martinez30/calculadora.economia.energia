<div class="mb-6">
  <label for="estado" class="block text-sm font-medium text-gray-700 mb-2">
    Selecione seu Estado
  </label>
  
  <div class="relative">
    <select
      id="estado"
      name="estado"
      [value]="estadoSelecionado"
      (change)="onEstadoChange($event)"
      class="block w-full px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"
      [disabled]="carregando"
    >
      <option value="" disabled>Selecione um estado</option>
      <option *ngFor="let tarifa of tarifas" [value]="tarifa.uf">
        {{ tarifa.estado }} ({{ tarifa.uf }}) - R$ {{ tarifa.tarifa_kwh.toFixed(2) }}/kWh
      </option>
    </select>
    
    <div *ngIf="carregando" class="absolute inset-0 flex items-center justify-center bg-gray-50 bg-opacity-75 rounded-lg">
      <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-primary-500"></div>
    </div>
  </div>
  
  <p class="mt-2 text-sm text-gray-500">
    Selecione seu estado para usar a tarifa local de energia
  </p>
</div>